function slug(s,e=!1){var i={remove:/[\/\\\[\]{}()*+~.'"!\xa1?\xbf:@]/g,lower:!0,strict:!0,locale:"es",trim:!0};return e?slugify(s,{replacement:" ",remove:/[\[\]{}()*+~.'"!\xa1?\xbf:@]/g,lower:!0,locale:"es",trim:!0}):slugify(s,i)}function resaltar_palabras(s,e){var i=s.join("|").replace(/[aeiou]/gi,"\\p{Script_Extensions=Latin}"),t=new RegExp(i,"giu");return e.replace(t,function(s){return"<mark>"+s+"</mark>"})}function buscar_sitio(){if($("#resultados_b")){$("#buscar_b").addClass("is-loading");var s=idx.search($("#buscar_t").val());if(console.log($("#buscar_t").val()),console.log(s.length),console.log(s),s.length>0){var e=slug($("#buscar_t").val()).split("-"),i=s.map(function(s){return busqueda_idx[s.ref]}),t="";i.forEach(function(s){t+='<article class="media is-borderless">',t+='<div class="media-content">',t+='<div class="content">',t+='<h4 class="title is-4"><a class="has-text-dark" href="'+s.url+'">'+resaltar_palabras(e,s.titulo)+"</a></h4>",t+='<p class="subtitle is-6">'+fechas_subtitulo(s.fecha_publicada)+"</p>",t+='<p class="content">',t+=resaltar_palabras(e,s.excerpt),t+="</p>",t+="</div>",t+='<nav class="level is-mobile">',t+='<div class="level-left">',t+='<div class="level-item">',t+='<div class="tags">',s.etiquetas.forEach(function(s){t+='<span class="tag is-link is-normal"><a class="has-text-white "href="/etiqueta/'+slug(s)+'">'+s+"</a></span>"}),t+="</div>",t+="</div>",t+="</div>",t+="</nav>",t+="</div>",t+="</article>"}),$("#resultados_c").hasClass("is-hidden")?($("#resultados_c").removeClass("is-hidden"),$("#resultados_b").empty(),$("#resultados_b").html(t)):($("#resultados_b").empty(),$("#resultados_b").html(t)),$("#buscar_b").removeClass("is-loading")}else $("#resultados_c").hasClass("is-hidden")?($("#resultados_b").empty(),$("#resultados_c").removeClass("is-hidden"),$("#resultados_b").html('<h4 class="title is-4">No se encontraron resultados.</h4>')):($("#resultados_b").empty(),$("#resultados_b").html('<h4 class="title is-4">No se encontraron resultados.</h4>')),$("#buscar_b").removeClass("is-loading")}}function fechas_subtitulo(s){var e=new Date(s),i=e.toLocaleString("es",{month:"long"});return e.getDate()+" de "+i+", "+e.getFullYear()}function revisar_klaro(){return!!document.cookie.split(";").some(s=>s.trim().startsWith("klaro_lewatoto="))}function sticky(){new IntersectionObserver(function(s){0===s[0].intersectionRatio?$(".subir").is(".is-hidden")&&$(".subir").toggleClass("is-hidden"):1===s[0].intersectionRatio&&($(".subir").is(".is-hidden")||$(".subir").toggleClass("is-hidden"))},{threshold:[0,1]}).observe(document.querySelector(".abajo_imagen"))}function ir_a_inicio(){new IntersectionObserver(function(s){console.log(s),console.log(s[0].intersectionRatio),0===s[0].intersectionRatio?$(".subir").is(".is-hidden")&&$(".subir").toggleClass("is-hidden"):1===s[0].intersectionRatio&&($(".subir").is(".is-hidden")||$(".subir").toggleClass("is-hidden"))},{threshold:[0,1]}).observe(document.querySelector(".ir_a_inicio"))}function subir(){$("html").animate({scrollTop:"0"},200,function(){})}const observer=lozad();observer.observe();var idx=lunr(function(){for(var s in this.use(lunr.multiLanguage("es","en")),this.ref("id"),this.field("titulo",{boost:10}),this.field("url"),this.field("contenido"),busqueda_idx)this.add({id:s,titulo:busqueda_idx[s].titulo,url:busqueda_idx[s].url,contenido:busqueda_idx[s].contenido})});$(document).ready(function(){if($(".navbar-burger").click(function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")}),$(".buttons > a").click(function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")}),$("#buscar_b").click(function(){buscar_sitio()}),$(".delete").click(function(){$("#resultados_b").empty(),$(".delete").parents(":eq(2)").addClass("is-hidden")}),$("#buscar_t").bind("enterKey",function(){buscar_sitio()}),$("#buscar_t").keyup(function(s){13==s.keyCode&&$(this).trigger("enterKey")}),$(".mostrar_comentarios").click(function(){$(this).toggleClass("is-hidden"),$("#disqus_thread").toggleClass("is-hidden")}),$("#activar_disqus").click(function(){klaro.show(),$(".activar_disqus").toggleClass("is-hidden"),$("#disqus_thread").toggleClass("is-hidden")}),$(".subir").click(function(){subir()}),$(".indice").length){sticky();new Gumshoe("#toc_menu a",{navClass:"is-active",contentClass:"active",nested:!1,nestedClass:"is-active",offset:80,reflow:!0,events:!0})}else ir_a_inicio(),console.log("no hya indice")});